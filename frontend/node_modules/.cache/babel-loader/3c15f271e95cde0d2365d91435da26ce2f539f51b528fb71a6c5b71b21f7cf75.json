{"ast":null,"code":"// Com proxy, usa caminhos relativos\nconst API = '/api';\nexport async function fetchStudents({\n  page = 1,\n  limit = 50,\n  q = ''\n} = {}) {\n  try {\n    const url = new URL(`${API}/students`, window.location.origin);\n    url.searchParams.set('page', page);\n    url.searchParams.set('limit', limit);\n    if (q) url.searchParams.set('q', q);\n    console.log('üîç Buscando:', url.toString());\n    const res = await fetch(url);\n    if (!res.ok) throw new Error(`Erro: ${res.status}`);\n    const data = await res.json();\n    console.log('‚úÖ Dados recebidos:', data);\n    return data;\n  } catch (error) {\n    console.error('‚ùå Erro:', error);\n    throw error;\n  }\n}\nexport async function getStudent(id) {\n  const res = await fetch(`${API}/students/${id}`);\n  if (!res.ok) throw new Error('Erro ao buscar aluno');\n  return res.json();\n}\n\n// üî• FUN√á√ÉO: CRIAR ALUNO\nexport async function createStudent(body) {\n  const res = await fetch(`${API}/students`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  });\n  if (!res.ok) throw new Error('Erro ao criar aluno');\n  return res.json();\n}\nexport async function updateStudent(id, body) {\n  const res = await fetch(`${API}/students/${id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  });\n  if (!res.ok) throw new Error('Erro ao atualizar aluno');\n  return res.json();\n}\nexport async function deleteStudent(id) {\n  const res = await fetch(`${API}/students/${id}`, {\n    method: 'DELETE'\n  });\n  if (!res.ok) throw new Error('Erro ao excluir aluno');\n  return res.json();\n}","map":{"version":3,"names":["API","fetchStudents","page","limit","q","url","URL","window","location","origin","searchParams","set","console","log","toString","res","fetch","ok","Error","status","data","json","error","getStudent","id","createStudent","body","method","headers","JSON","stringify","updateStudent","deleteStudent"],"sources":["D:/Documents/db-nair-cunha/teste-db-matricula-nair-cunha-de-aguiar/frontend/src/api.js"],"sourcesContent":["// Com proxy, usa caminhos relativos\r\nconst API = '/api';\r\n\r\nexport async function fetchStudents({ page = 1, limit = 50, q = '' } = {}) {\r\n  try {\r\n    const url = new URL(`${API}/students`, window.location.origin);\r\n    url.searchParams.set('page', page);\r\n    url.searchParams.set('limit', limit);\r\n    if (q) url.searchParams.set('q', q);\r\n    \r\n    console.log('üîç Buscando:', url.toString());\r\n    const res = await fetch(url);\r\n    \r\n    if (!res.ok) throw new Error(`Erro: ${res.status}`);\r\n    \r\n    const data = await res.json();\r\n    console.log('‚úÖ Dados recebidos:', data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error('‚ùå Erro:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getStudent(id) {\r\n  const res = await fetch(`${API}/students/${id}`);\r\n  if (!res.ok) throw new Error('Erro ao buscar aluno');\r\n  return res.json();\r\n}\r\n\r\n// üî• FUN√á√ÉO: CRIAR ALUNO\r\nexport async function createStudent(body) {\r\n  const res = await fetch(`${API}/students`, { \r\n    method: 'POST', \r\n    headers: {'Content-Type': 'application/json'}, \r\n    body: JSON.stringify(body) \r\n  });\r\n  if (!res.ok) throw new Error('Erro ao criar aluno');\r\n  return res.json();\r\n}\r\n\r\nexport async function updateStudent(id, body) {\r\n  const res = await fetch(`${API}/students/${id}`, { \r\n    method: 'PUT', \r\n    headers: {'Content-Type': 'application/json'}, \r\n    body: JSON.stringify(body) \r\n  });\r\n  if (!res.ok) throw new Error('Erro ao atualizar aluno');\r\n  return res.json();\r\n}\r\n\r\nexport async function deleteStudent(id) {\r\n  const res = await fetch(`${API}/students/${id}`, { method: 'DELETE' });\r\n  if (!res.ok) throw new Error('Erro ao excluir aluno');\r\n  return res.json();\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}