{"ast":null,"code":"import _objectSpread from\"C:/Users/Aluno LEI/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// api.js - VERS√ÉO CORRIGIDA\nconst API='/api';export async function fetchStudents(){let{page=1,limit=50,q=''}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const url=new URL(\"\".concat(API,\"/students\"),window.location.origin);url.searchParams.set('page',page);url.searchParams.set('limit',limit);if(q)url.searchParams.set('q',q);console.log('üîç Buscando:',url.toString());const res=await fetch(url);if(!res.ok)throw new Error(\"Erro: \".concat(res.status));const data=await res.json();console.log('‚úÖ Dados recebidos:',data);return data;}catch(error){console.error('‚ùå Erro:',error);throw error;}}export async function getStudent(id){try{const res=await fetch(\"\".concat(API,\"/students/\").concat(id));if(!res.ok)throw new Error(\"Erro \".concat(res.status,\": \").concat(await res.text()));return res.json();}catch(error){console.error('‚ùå Erro ao buscar aluno:',error);throw error;}}// üî• CORRE√á√ÉO: Fun√ß√£o createStudent corrigida\n// Na fun√ß√£o createStudent, atualize o body para incluir os novos campos:\nexport async function createStudent(body){try{console.log('‚ûï Criando aluno:',body);const res=await fetch(\"\".concat(API,\"/students\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(_objectSpread(_objectSpread({},body),{},{nomeMae:body.nomeMae||'',nomePai:body.nomePai||'',status:body.status||'Matriculado'}))});// ... resto do c√≥digo\n}catch(error){// ... tratamento de erro\n}}export async function updateStudent(id,body){try{const res=await fetch(\"\".concat(API,\"/students/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});if(!res.ok){const errorText=await res.text();throw new Error(\"Erro \".concat(res.status,\": \").concat(errorText||'Erro ao atualizar aluno'));}return res.json();}catch(error){console.error('‚ùå Erro ao atualizar aluno:',error);throw error;}}export async function deleteStudent(id){try{const res=await fetch(\"\".concat(API,\"/students/\").concat(id),{method:'DELETE'});if(!res.ok){const errorText=await res.text();throw new Error(\"Erro \".concat(res.status,\": \").concat(errorText||'Erro ao excluir aluno'));}return res.json();}catch(error){console.error('‚ùå Erro ao excluir aluno:',error);throw error;}}","map":{"version":3,"names":["API","fetchStudents","page","limit","q","arguments","length","undefined","url","URL","concat","window","location","origin","searchParams","set","console","log","toString","res","fetch","ok","Error","status","data","json","error","getStudent","id","text","createStudent","body","method","headers","JSON","stringify","_objectSpread","nomeMae","nomePai","updateStudent","errorText","deleteStudent"],"sources":["D:/Documents/db-nair-cunha/teste-db-matricula-nair-cunha-de-aguiar/frontend/src/api.js"],"sourcesContent":["// api.js - VERS√ÉO CORRIGIDA\r\nconst API = '/api';\r\n\r\nexport async function fetchStudents({ page = 1, limit = 50, q = '' } = {}) {\r\n  try {\r\n    const url = new URL(`${API}/students`, window.location.origin);\r\n    url.searchParams.set('page', page);\r\n    url.searchParams.set('limit', limit);\r\n    if (q) url.searchParams.set('q', q);\r\n    \r\n    console.log('üîç Buscando:', url.toString());\r\n    const res = await fetch(url);\r\n    \r\n    if (!res.ok) throw new Error(`Erro: ${res.status}`);\r\n    \r\n    const data = await res.json();\r\n    console.log('‚úÖ Dados recebidos:', data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error('‚ùå Erro:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function getStudent(id) {\r\n  try {\r\n    const res = await fetch(`${API}/students/${id}`);\r\n    if (!res.ok) throw new Error(`Erro ${res.status}: ${await res.text()}`);\r\n    return res.json();\r\n  } catch (error) {\r\n    console.error('‚ùå Erro ao buscar aluno:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// üî• CORRE√á√ÉO: Fun√ß√£o createStudent corrigida\r\n// Na fun√ß√£o createStudent, atualize o body para incluir os novos campos:\r\nexport async function createStudent(body) {\r\n  try {\r\n    console.log('‚ûï Criando aluno:', body);\r\n    \r\n    const res = await fetch(`${API}/students`, { \r\n      method: 'POST', \r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      }, \r\n      body: JSON.stringify({\r\n        ...body,\r\n        nomeMae: body.nomeMae || '',\r\n        nomePai: body.nomePai || '',\r\n        status: body.status || 'Matriculado'\r\n      }) \r\n    });\r\n    // ... resto do c√≥digo\r\n  } catch (error) {\r\n    // ... tratamento de erro\r\n  }\r\n}\r\nexport async function updateStudent(id, body) {\r\n  try {\r\n    const res = await fetch(`${API}/students/${id}`, { \r\n      method: 'PUT', \r\n      headers: {'Content-Type': 'application/json'}, \r\n      body: JSON.stringify(body) \r\n    });\r\n    \r\n    if (!res.ok) {\r\n      const errorText = await res.text();\r\n      throw new Error(`Erro ${res.status}: ${errorText || 'Erro ao atualizar aluno'}`);\r\n    }\r\n    \r\n    return res.json();\r\n  } catch (error) {\r\n    console.error('‚ùå Erro ao atualizar aluno:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function deleteStudent(id) {\r\n  try {\r\n    const res = await fetch(`${API}/students/${id}`, { method: 'DELETE' });\r\n    \r\n    if (!res.ok) {\r\n      const errorText = await res.text();\r\n      throw new Error(`Erro ${res.status}: ${errorText || 'Erro ao excluir aluno'}`);\r\n    }\r\n    \r\n    return res.json();\r\n  } catch (error) {\r\n    console.error('‚ùå Erro ao excluir aluno:', error);\r\n    throw error;\r\n  }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}